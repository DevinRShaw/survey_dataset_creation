# FEVS survey dataset creation

This documentation provides an overview of the `FEVS_creation.ipynb` notebook, which was automatically generated by Colaboratory.

## Original File Location
The original file is located at [https://colab.research.google.com/drive/1p4Xsvaq4z05f6obwxnXCORC1ZQQMavBR](https://colab.research.google.com/drive/1p4Xsvaq4z05f6obwxnXCORC1ZQQMavBR).

## Dependencies
The notebook requires the following dependencies:
- pandas
- google.colab

Make sure these dependencies are installed before running the notebook.

## Initial Issues
The notebook addresses the following initial issues:
- Cannot load .xls filetype yet
- Missing columns for 2021
- Inconsistent datatypes in 2015 - 2017

## Dataframe Creation
The notebook creates a separate dataframe for each file:
- `df_2015` from "2015 FEVS Indices.xls"
- `df_2016` from "2016 FEVS Indices.xls.xlsx"
- `df_2017` from "2017 FEVS Indices.xls.xlsx"
- `df_2018` from "2018 FEVS Indices.xlsx"
- `df_2019` from "2019 FEVS Indices.xlsx"
- `df_2020` from "2020 FEVS Indices.xlsx"
- `df_2021` from "2021 FEVS Indices.xlsx"
- `df_2022` from "2022 FEVS Indices.xlsx"

## Standardizing Datatypes
The notebook converts the values for 2015-2017 from string percentage to decimal form.

## Setting Index and Labeling Years
The notebook sets the index to the sorting code and labels the columns of each dataset with the respective year.

## Merging Datasets by Index
The notebook merges the datasets using an inner join on the index of agency codes. It changes the column names to ensure coherence and removes irrelevant columns.

## Data Cleaning
The notebook performs additional data cleaning steps, including:
- Dropping redundant agency columns except for one (using 2018 as the standard)
- Removing the 2016 questionnaire from the dataframe
- Renaming the columns for clarity

## Saving and Downloading the Merged Dataset
The notebook saves the merged dataframe as a CSV file named "full_FEVS.csv" and downloads it.

Ensure that the necessary file paths and dependencies are set up correctly before running the notebook.
